<!DOCTYPE html>
<html lang="zh-CN">
<head>
  
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Arial:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
 
<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="概述什么是操作系统操作系统是管理计算机硬件的程序，它还为应用程序提供基础，并且充当计算机硬件和计算机用户的媒介。   操作系统是几乎所有计算机系统的一个重要部分。计算机系统可以大致分为4个组成部分: 计算机硬件、操作系统、系统程序与应用程序和用户">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统">
<meta property="og:url" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="Rosc. 1807">
<meta property="og:description" content="概述什么是操作系统操作系统是管理计算机硬件的程序，它还为应用程序提供基础，并且充当计算机硬件和计算机用户的媒介。   操作系统是几乎所有计算机系统的一个重要部分。计算机系统可以大致分为4个组成部分: 计算机硬件、操作系统、系统程序与应用程序和用户">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111162547588.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111171535256.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111172120979.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111185212031.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111190249132.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111190304067.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111194339861.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111194623725.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111195220250.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111200657238.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111200718062.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111201251423.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111201428153.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111204329002.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111204351182.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111205216643.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111205320183.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111205731605.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111211107476.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111211409495.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111212011031.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111213121772.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111213342845.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111215052470.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111215253630.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111215317776.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220116285.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220333013.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220406736.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220433815.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220452872.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111222046851.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111221839990.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111224221590.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111231052411.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111231235145.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111224801200.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111224703344.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112001321771.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112105906769.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112003000895.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112003015019.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112003656303.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112102921033.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112102928175.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112102935367.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112110325884.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112111252426.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112112730086.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112122202580.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112122253826.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112123746218.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112123801810.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112124119252.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112124140558.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112124741028.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125019652.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125101540.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125337122.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125417945.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125947922.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112130607347.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112130657987.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112130711371.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112141219685.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112141457043.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112142223180.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112143512189.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112143753960.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112145100637.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112145347701.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151036082.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151057948.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151113069.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151517949.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151529494.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151639301.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151823849.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151842886.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152546478.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152555790.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152814494.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152837485.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152941861.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152958967.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153445713.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153524379.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153550044.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153606885.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153803975.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112155612218.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112155827476.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112155915933.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160120779.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160252626.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160313840.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112161001263.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160004175.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160522648.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162029455.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162059752.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162510711.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162522558.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162547805.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112163607711.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162821859.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162837647.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112163438409.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112163942956.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112164006039.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112164222409.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112164248983.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112165240323.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112170224160.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112170444910.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112170536809.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112171436303.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112171707127.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172126683.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172133902.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172209647.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172326975.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172449023.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112184902126.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112182616128.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185530566.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185544624.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185603536.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185807425.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112190404791.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112191304290.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112192116366.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112192641750.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112192956574.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112193454479.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194003561.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194140777.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194202780.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194615793.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194936525.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112195001905.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112195203628.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112200330390.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112200827909.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201112826.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201242869.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201409244.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201827280.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202035716.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202506003.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202314011.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202424562.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202446067.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202617380.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202845091.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202901042.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202925019.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202935282.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202943754.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202953362.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203004794.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203020169.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203039498.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203048466.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203109514.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112204131152.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205300574.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205320019.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205515168.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205617035.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112210154375.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112210210082.png">
<meta property="og:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112210225147.png">
<meta property="article:published_time" content="2022-01-10T13:09:29.000Z">
<meta property="article:modified_time" content="2022-01-12T13:10:07.256Z">
<meta property="article:author" content="Rosc. 1807">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111162547588.png">

<link rel="canonical" href="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>操作系统 | Rosc. 1807</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Rosc. 1807</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Rosc. 1807">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rosc. 1807">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          操作系统
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-10 21:09:29" itemprop="dateCreated datePublished" datetime="2022-01-10T21:09:29+08:00">2022-01-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-12 21:10:07" itemprop="dateModified" datetime="2022-01-12T21:10:07+08:00">2022-01-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%80%83%E7%A0%94/" itemprop="url" rel="index"><span itemprop="name">考研</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><h4 id="什么是操作系统"><a href="#什么是操作系统" class="headerlink" title="什么是操作系统"></a>什么是操作系统</h4><p>操作系统是<strong>管理计算机硬件的程序</strong>，它还为<strong>应用程序</strong>提供基础，并且充当<strong>计算机硬件和计算机用户的媒介</strong>。 </p>
<blockquote>
<p>操作系统是几乎所有计算机系统的一个重要部分。计算机系统可以大致分为4个组成部分: 计算机硬件、操作系统、系统程序与应用程序和用户</p>
</blockquote>
<span id="more"></span>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111162547588.png" alt="image-20220111162547588" style="zoom: 67%;"></p>
<h4 id="单道批处理系统、多道批处理系统和分时系统"><a href="#单道批处理系统、多道批处理系统和分时系统" class="headerlink" title="单道批处理系统、多道批处理系统和分时系统"></a>单道批处理系统、多道批处理系统和分时系统</h4><p>单道批处理系统：内存中只有一道程序运行（如果发出I/O请求，CPU会空闲）。</p>
<p>多道批处理系统：内存中同时存放几个作业，并允许并发执行，从而有效地提高了资源利用率和系统吞吐量</p>
<p>分时系统：是多道程序设计的延伸。在分时系统中，虽然 CPU 还是通过在作业之间的切换来执行多个作业，但是由于切换频率很高，用户可以在程序运行期间与之进行交互。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111171535256.png" alt="image-20220111171535256" style="zoom: 50%;"></p>
<h4 id="并发、并行"><a href="#并发、并行" class="headerlink" title="并发、并行"></a>并发、并行</h4><p>并发性，指两个或两个以上的事件或活动在<strong>同一时间间隔</strong>内发生</p>
<p>并行性，指两个或两个以上事件或活动在<strong>同一时刻</strong>发生</p>
<p>并行是并发的特例，限制更严格（只有CPU有多个核时，才能出现真正的“并行”，即同时进行）</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111172120979.png" alt="image-20220111172120979" style="zoom: 33%;"></p>
<h4 id="硬实时系统和软实时系统"><a href="#硬实时系统和软实时系统" class="headerlink" title="硬实时系统和软实时系统"></a>硬实时系统和软实时系统</h4><p>硬实时系统：保证关键任务按时完成，对系统内所有延迟都有限制。</p>
<p>软实时系统：要求关键实时任务的优先级高于其他任务的优先级（且在完成之前能保持其高优先级），可与分时系统集成在一起。</p>
<p>实时系统：有固定而明确的时间约束，处理必须在固定时间约束内完成，否则系统会失败。广泛应用于工业过程控制、军事实时控制、金融等领域。以实现<strong>实时控制</strong>和<strong>实时信息处理</strong></p>
<h4 id="中断的分类和主要步骤"><a href="#中断的分类和主要步骤" class="headerlink" title="中断的分类和主要步骤"></a>中断的分类和主要步骤</h4><p>操作系统是中断驱动的</p>
<p>中断主要分为三类</p>
<p><strong>硬件中断</strong>：由CPU外部引起的，如I/O中断、时钟中断、控制台中断等。</p>
<p><strong>异常</strong>：来自CPU的内部事件或程序执行中的事件引起的过程，称作异常，如由于CPU本身故障（电源电压低于105V或频率在47～63Hz之外）、程序故障（非法操作码、地址越界、浮点溢出等）</p>
<p><strong>陷阱（软件中断、系统调用）</strong>：程序中使用了请求系统服务的系统调用而引发的过程</p>
<p>前两类通常都称作中断，它们的产生往往是无意、被动的，而陷阱是有意和主动的。</p>
<p>中断一般分为<strong>中断响应</strong>和<strong>中断处理</strong>两个步骤。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111185212031.png" alt="image-20220111185212031" style="zoom: 67%;"></p>
<p><strong>中断响应</strong>三步走：</p>
<p>1）中止当前程序的执行</p>
<p>2）保存原程序的断点信息（主要是程序计数器PC和程序状态寄存器PS的内容）</p>
<p>3）从中断控制器中取出中断向量，转到相应的处理程序</p>
<h4 id="双重模式操作"><a href="#双重模式操作" class="headerlink" title="双重模式操作"></a>双重模式操作</h4><p>产生背景：为了确保操作正常，必须保护操作系统和所有其他程序及数据使之不受任何故障程序的影响。所有共享资源都需要保护</p>
<p>双重模式操作提供了<strong>保护操作系统和用户程序不受错误用户程序影响</strong>的手段</p>
<p>实现：</p>
<p>1）在计算机硬件中增加一个称为<strong>模式位</strong>（mode bit）的位以表示当前模式：<strong>监督程序模式</strong>（0）和<strong>用户模式</strong>（1），就可以区分为操作系统所执行的任务和为用户所执行的任务。</p>
<p>2）将<strong>可能引起损害</strong>的机器指令作为<strong>特权指令</strong>，如果在用户状态下试图执行特权指令，那么硬件并不执行该指令，而是认为该指令非法，并将其以<strong>陷阱</strong>形式通知操作系统。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111190249132.png" alt="image-20220111190249132" style="zoom:80%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111190304067.png" alt="image-20220111190304067" style="zoom:67%;"></p>
<p><strong>特权指令</strong>包括：I/O控制、定时器管理、中断管理，甚至转换到用户模式也是特权指令。</p>
<p>用户模式（用户态）切换到监督程序模式（内核态）的几种方式：（其实和中断的三种种类对应）</p>
<p>1）外围设备的中断</p>
<p>2）异常</p>
<p>3）系统调用</p>
<h4 id="操作系统包括哪些子系统？"><a href="#操作系统包括哪些子系统？" class="headerlink" title="操作系统包括哪些子系统？"></a>操作系统包括哪些子系统？</h4><p>进程管理系统</p>
<p>内存管理系统</p>
<p>文件管理系统</p>
<p>输入/输出系统管理系统</p>
<p>二级存储管理系统</p>
<p>联网系统</p>
<p>保护系统系统</p>
<p>命令解释系统系统</p>
<h4 id="用户如何使用操作系统的服务？"><a href="#用户如何使用操作系统的服务？" class="headerlink" title="用户如何使用操作系统的服务？"></a>用户如何使用操作系统的服务？</h4><p>用户可以用命令行或者GUI直接与OS进行交互，或者站在编程的角度，用自定义的用户程序进行调用。</p>
<p>–<strong>System calls 系统调用</strong></p>
<p>系统调用实际上是指底层的一个调用，就是内核提供的、功能十分强大的一系列的函数。</p>
<p>–<strong>API  应用程序接口</strong></p>
<p>是一个函数定义，说明了如何获得一个给定的服务</p>
<p>系统调用实现的是最基本，最底层的功能，由于用起来比较复杂，更多的普通程序员选择用API设计程序</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111194339861.png" alt="image-20220111194339861" style="zoom:67%;"></p>
<p>程序员宁愿选择API也不选择更实际的原因：1） 方便程序的可移植性 2）API相对简单（就下图而言，程序员无需知道系统调用的具体细节）</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111194623725.png" alt="image-20220111194623725" style="zoom:80%;"></p>
<p>使用系统调用时一般用<strong>寄存器</strong>对操作系统进行传参</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111195220250.png" alt="image-20220111195220250" style="zoom: 67%;"></p>
<h4 id="两种通讯模型"><a href="#两种通讯模型" class="headerlink" title="两种通讯模型"></a>两种通讯模型</h4><p>消息传递：不必避免冲突，适合少量数据，易于实现</p>
<p>共享内存：快速且便利，但是需要同步和保护</p>
<h4 id="什么是虚拟机？"><a href="#什么是虚拟机？" class="headerlink" title="什么是虚拟机？"></a>什么是虚拟机？</h4><p>虚拟机采用了分层的方法。它将物理硬件和OS内核统一看作为硬件</p>
<p>虚拟机提供了与基本硬件相同的接口</p>
<p>通过利用CPU调度和虚拟内存技术，操作系统能创建一种幻觉，以至于进程认为有自己的处理器和自己的（虚拟）内存。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111200657238.png" alt="image-20220111200657238" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111200718062.png" alt="image-20220111200718062" style="zoom:67%;"></p>
<p>虚拟机只能运行在用户模式下，所以为了准确模拟，它需要模拟出虚拟用户模式和虚拟内核模式。</p>
<p><strong>VMware</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111201251423.png" alt="image-20220111201251423" style="zoom:67%;"></p>
<p><strong>JAVA虚拟机</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111201428153.png" alt="image-20220111201428153" style="zoom:67%;"></p>
<h3 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h3><h4 id="进程的概念"><a href="#进程的概念" class="headerlink" title="进程的概念"></a>进程的概念</h4><p>进程和程序的比较：</p>
<p>1）进程反映的是一个<strong>动态</strong>概念，而程序是一个<strong>静态</strong>概念；程序是<strong>指令的有序集合</strong>，没有任何执行的含义，而进程则强调的是<strong>执行过程</strong>，它动态被创建、执行和消亡。</p>
<p>2)进程是一个能<strong>独立运行的单位</strong>，能与其他进程并发执行，进程是作为资源申请和调度单位存在的。而程序则没有。因为程序不反映执行过程。</p>
<p>3)程序和进程并不一定具有一一对应的关系。<strong>不同的进程可以来自于同一程序</strong>，只要该程序所对应的数据集不同。</p>
<p>进程：是一个可并发执行的具有独立功能的程序关于某个数据集合的一次执行过程，也是操作系统进行资源分配和保护的基本单位。</p>
<p>两个角度看进程概念：</p>
<p>从<strong>理论角度</strong>看，进程是对正在运行的程序活动规律的抽象。</p>
<p>从<strong>实现角度</strong>看，进程是一种数据结构，目的在于有效管理和调度进入计算机系统主存储器运行的程序</p>
<h4 id="进程的状态和状态转换图"><a href="#进程的状态和状态转换图" class="headerlink" title="进程的状态和状态转换图"></a>进程的状态和状态转换图</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111204329002.png" alt="image-20220111204329002" style="zoom: 67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111204351182.png" alt="image-20220111204351182" style="zoom:67%;"></p>
<h4 id="状态转换细节"><a href="#状态转换细节" class="headerlink" title="状态转换细节"></a>状态转换细节</h4><p><strong>状态转换中有哪些队列？</strong></p>
<p>1）作业队列 - 在系统中的所有进程的集合</p>
<p>2）就绪队列 - 在主内存中的，就绪并等待执行的所有进程的集合</p>
<p>3）设备队列 - 等待某一I/O设备的进程队列</p>
<p>队列中的记录：<strong>进程控制块PCB</strong></p>
<p>在不同的队列之间会发生进程的迁移</p>
<p>在三大基本状态之间有两种转换是不正确的：</p>
<p>1）从就绪到阻塞</p>
<p>2）从阻塞到执行</p>
<h4 id="PCB"><a href="#PCB" class="headerlink" title="PCB"></a>PCB</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111205216643.png" alt="image-20220111205216643" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111205320183.png" alt="image-20220111205320183" style="zoom: 50%;"></p>
<h4 id="进程在内存中的镜像"><a href="#进程在内存中的镜像" class="headerlink" title="进程在内存中的镜像"></a>进程在内存中的镜像</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111205731605.png" alt="image-20220111205731605" style="zoom: 67%;"></p>
<p>栈：临时数据，如函数参数、返回地址和局部变量</p>
<p>堆：在运行期间动态分配的内存</p>
<p>数据段：由程序员初始化的静态变量/全局变量</p>
<p>文本段：存放程序的可执行代码，这一部分通常是只读的。</p>
<p>(数据段和堆之间还有BSS段，存放未初始化的静态变量/全局变量)</p>
<h4 id="长程调度、短程调度、中程调度"><a href="#长程调度、短程调度、中程调度" class="headerlink" title="长程调度、短程调度、中程调度"></a>长程调度、短程调度、中程调度</h4><p><strong>长程调度程序</strong>：又称<strong>作业调度程序</strong>，从大容量存储设备（硬盘）的缓冲池中选择进程，装入内存中以准备执行</p>
<p><strong>短程调度程序</strong>：又称<strong>CPU调度程序</strong>，从就绪队列中选择准备执行的进程，并为之分配CPU</p>
<p>短程调度程序执行特别频繁，长程调度程序远没有那么频繁。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111211107476.png" alt="image-20220111211107476" style="zoom:67%;"></p>
<p><strong>中程调度程序</strong>：核心思想是能将进程从内存（或CPU竞争）中移出，从而降低程序并发度，之后，进程能被重新调入内粗，并从中断处继续执行，这种方案称为<strong>交换</strong>。</p>
<p>将CPU切换到另一个进程需要保存当前进程的状态并恢复另一个进程的状态，这一任务称为<strong>上下文切换</strong>。</p>
<h4 id="进程树"><a href="#进程树" class="headerlink" title="进程树"></a>进程树</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111211409495.png" alt="image-20220111211409495" style="zoom: 67%;"></p>
<h4 id="fork函数"><a href="#fork函数" class="headerlink" title="fork函数"></a>fork函数</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111212011031.png" alt="image-20220111212011031" style="zoom:67%;"></p>
<p>fork()实例</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">void</span> main</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> pid;</span><br><span class="line">    pid=fork();</span><br><span class="line">    <span class="keyword">if</span>(pid&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;fork failed.&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(pid==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;child process executing...\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        wait();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;child process complete&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111213121772.png" alt="image-20220111213121772" style="zoom: 80%;"></p>
<h4 id="进程中止"><a href="#进程中止" class="headerlink" title="进程中止"></a>进程中止</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111213342845.png" alt="image-20220111213342845" style="zoom:67%;"></p>
<h4 id="java通讯"><a href="#java通讯" class="headerlink" title="java通讯"></a>java通讯</h4><p>//</p>
<h3 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h3><h4 id="为什么我们需要线程？"><a href="#为什么我们需要线程？" class="headerlink" title="为什么我们需要线程？"></a>为什么我们需要线程？</h4><p>进程的属性是独立运行和独立拥有资源，系统在调度一个进程的同时还涉及资源的分配与状态转换等一系列动作，开销大。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111215052470.png" alt="image-20220111215052470" style="zoom:67%;"></p>
<p><strong>线程是CPU使用的基本单位。</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111215253630.png" alt="image-20220111215253630" style="zoom: 67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111215317776.png" alt="image-20220111215317776" style="zoom:67%;"></p>
<h4 id="线程和进程的联系"><a href="#线程和进程的联系" class="headerlink" title="线程和进程的联系"></a>线程和进程的联系</h4><p>比较：</p>
<p>1）<strong>调度</strong>  同一进程的多线程间进行调度不引起进程的切换，只有不同进程的线程间调度需要进程切换，降低了开销</p>
<p>2）<strong>并发性</strong>  一个进程的多个线程之间可以并发执行</p>
<p>3）<strong>资源的拥有</strong>  线程不拥有系统资源，不拥有代码段和数据段</p>
<h4 id="TCB"><a href="#TCB" class="headerlink" title="TCB"></a>TCB</h4><p>与PCB对应：每个线程都被线程控制模块（TCB）描述</p>
<h4 id="多线程地址空间"><a href="#多线程地址空间" class="headerlink" title="多线程地址空间"></a>多线程地址空间</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220116285.png" alt="image-20220111220116285" style="zoom:50%;"></p>
<h4 id="用户级线程和内核级线程"><a href="#用户级线程和内核级线程" class="headerlink" title="用户级线程和内核级线程"></a>用户级线程和内核级线程</h4><p>对用户线程的支持通常处于内核之上，通过一个<strong>用户级线程库</strong>（thread library）实现。线程库提供了对线程的创建、调度和管理的支持，这无需来自内核的支持。因为内核并不知道用户级线程的存在，所有的线程创建和调度工作都在用户空间完成，而且整个过程不受内核的干涉。</p>
<p>内核线程由操作系统直接支持：内核在内核空间内实现了线程的创建、调度和管理</p>
<p><strong>内核线程和用户级线程其实完全不一样</strong>。后者是由程序员自定义的进程的线程。而前者是内核的进程。<strong>Linux内核可以看作一个服务进程</strong>(管理软硬件资源，响应用户进程的种种合理以及不合理的请求)。内核需要多个执行流并行，为了防止可能的阻塞，支持多线程是必要的。<strong>内核线程就是内核的分身</strong>，一个分身可以处理一件特定事情。内核线程的调度由内核负责，一个内核线程处于阻塞状态时不影响其他的内核线程，因为其是调度的基本单位。</p>
<p>用户级线程和内核级线程之间存在关系</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220333013.png" alt="image-20220111220333013" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220406736.png" alt="image-20220111220406736" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220433815.png" alt="image-20220111220433815" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111220452872.png" alt="image-20220111220452872" style="zoom:67%;"></p>
<h4 id="线程的状态转换图"><a href="#线程的状态转换图" class="headerlink" title="线程的状态转换图"></a>线程的状态转换图</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111222046851.png" alt="image-20220111222046851" style="zoom:50%;"></p>
<p>java线程的状态转换图</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111221839990.png" alt="image-20220111221839990" style="zoom:80%;"></p>
<h3 id="CPU调度"><a href="#CPU调度" class="headerlink" title="CPU调度"></a>CPU调度</h3><p>CPU调度是多道程序操作系统的基础，通过在进程之间切换CPU，操作系统可以提高计算机的吞吐率</p>
<h4 id="抢占的和非抢占的调度方案"><a href="#抢占的和非抢占的调度方案" class="headerlink" title="抢占的和非抢占的调度方案"></a>抢占的和非抢占的调度方案</h4><p>CPU调度决策可以在以下四种环境发生：</p>
<p>1）运行 &gt; 阻塞 （I/O或者其他事务的等待）</p>
<p>2）运行 &gt; 就绪 （中断如时间片用完）</p>
<p>3）阻塞 &gt; 就绪 （I/O完成）</p>
<p>4）终止</p>
<p>对于2)和3），相当于有进程被加入到就绪队列，CPU可以选择一个合适的进程，并为之分配CPU。但是对于1）和4）来说，（可能是因为事发突然），CPU来不及选择合适的进程，而是直接给一个进程分配CPU</p>
<p>当调度方案<strong>只能发生在1）和4）时</strong>，称调度方案是<strong>非抢占的</strong>。由于2）和3）有选择，所以一个优先级高的进程可以抢占<strong>，称允许2）或3）的调度方案是抢占的。</strong></p>
<p>采用非抢占制度，一旦CPU分配给一个进程，那么该进程会一直使用CPU到进程终止或切换到等待状态。</p>
<h4 id="调度准则"><a href="#调度准则" class="headerlink" title="调度准则"></a>调度准则</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111224221590.png" alt="image-20220111224221590" style="zoom:67%;"></p>
<h4 id="调度算法"><a href="#调度算法" class="headerlink" title="调度算法"></a>调度算法</h4><p>FCFS:先来先服务调度（非抢占，所以不适合分时系统）</p>
<p>SJF：最短作业优先调度（是最佳的，但是很难知道下一个CPU区间的长度，只能预测，可以是抢占也可以是非抢占）</p>
<p>非抢占优先级：一般用小数字表示高优先级（会导致无穷阻塞（又称饥饿），解决办法：老化）</p>
<p>RR：轮转法调度（可抢占）</p>
<p>多级队列调度：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111231052411.png" alt="image-20220111231052411" style="zoom:67%;"></p>
<p>多级反馈队列调度</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111231235145.png" alt="image-20220111231235145" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111224801200.png" alt="image-20220111224801200" style="zoom: 80%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220111224703344.png" alt="image-20220111224703344" style="zoom: 67%;"></p>
<h4 id="多处理器调度"><a href="#多处理器调度" class="headerlink" title="多处理器调度"></a>多处理器调度</h4><p>假设多个CPU。则<strong>负载分配（load sharing）</strong>成为可能。当中主要讨论处理器功能同样（或同构）的系统，能够将不论什么处理器用于执行队列内的不论什么进程。</p>
<p><strong>多处理器调度方法</strong></p>
<p>在一个多处理器中，CPU调度的一种方法是让一个处理器（主server）处理全部的调度决定、I/O处理以及其它系统活动。其它的处理器仅仅执行用户代码。</p>
<p>这样的<strong>非对称处理（asymmetric multiprocessing）方法更为简单</strong>，由于仅仅有一个处理器訪问系统数据结构，减轻了数据共享的须要。</p>
<p>还有一种方法是使用<strong>对称多处理（symmetric multiprocessing，SMP）</strong>方法。即每一个处理器自我调度。</p>
<p>全部进程可能处于一个共同的就绪队列中。或每一个处理器都有自己的私有就绪队列。不管怎样，调度通过每一个处理器检查共同就绪队列并选择一个进程来执行。</p>
<p>假设多个处理器试图訪问和更新一个共同数据结构，那么每一个处理器必须仔编程：必须确保两个处理器不能选择同一进程，且进程不会从队列中丢失。</p>
<p><strong>处理器亲和性</strong></p>
<p>进程移到其它处理器上时，被迁移的第一个处理器的缓存中的内容必须为无效。而将要迁移的第二个处理器上的缓存需又一次构建。由于使缓存无效或重构的代价高，因而SMP努力的使一个进程在同一个处理器上执行，这被称为处理器亲和性，即一个进程需有一种对其它执行所在的处理器的亲和性。</p>
<p>处理器亲和性的几种形式：</p>
<ul>
<li>软亲和性（soft affinity，操作系统具有设法让一个进程保持在同一个处理器上执行的策略，但不能做不论什么保证）</li>
<li>硬亲和性（hard affinity，同意进程指定它不同意移至其它处理器）,如LINUX</li>
</ul>
<p><strong>负载平衡（load balancing）</strong></p>
<p>负载平衡设法将工作负载平均地分配到SMP系统中的全部处理器上。通常仅仅是对那些拥有自己私有的可执行的进程的处理器而言是必要的，在具有共同队列的系统中，通常不须要负载平衡，由于一旦处理器空暇，会立马从就绪队列中取走一个可执行进程。</p>
<p>两种方法：push migration和pull migration，对于push migration，一个特定的任务周期性地检查每一个处理器上的负载，假设发现不平衡，即通过将进程从超载处理器移到（或推送到）空暇或不太忙的处理器，从而平均地分配负载，当空暇处理器从一个忙的处理器上推送pull一个等待任务时，发生pull migration。push migration和pull migration不能互相排斥。</p>
<p>负载平衡会抵消处理器亲和性。</p>
<p><strong>对称多线程</strong></p>
<p>提供多个逻辑（而非物理的）处理器来执行几个线程，称为对称<strong>多线程（SMT）</strong>，或<strong>超线程（hyperthreading）</strong>技术。</p>
<p>SMT的思想是在同一个物理处理器上生成多个逻辑处理器，即使系统仅有单处理器，每一个逻辑处理器都有它自己的架构状态，包含通用目的和机器状态寄存器。每一个逻辑处理器负责自己的中断处理，这意味着中断被送到并被逻辑处理器所处理，每一个逻辑处理器共享其物理处理器的资源，如缓存或总线。</p>
<p>SMT是硬件而非软件提供的。硬件应该提供每一个逻辑处理器的架构状态的表示以及中断处理方法。调度程序首先设法把不同线程分别调度到每一个物理处理器上，而不是调度到同一个物理处理器的不同逻辑处理器上。</p>
<h3 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h3><h4 id="为什么需要同步"><a href="#为什么需要同步" class="headerlink" title="为什么需要同步"></a>为什么需要同步</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生产者</span></span><br><span class="line">item nextProduced;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">while</span> (((in + <span class="number">1</span>) % BUFFER_SIZE) == out)</span><br><span class="line">			; <span class="comment">/* do nothing */</span></span><br><span class="line">		buffer[in] = nextProduced;</span><br><span class="line">		in = (in + <span class="number">1</span>) % BUFFER_SIZE;</span><br><span class="line">    	counter++;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//消费者</span></span><br><span class="line">item nextConsumed;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">while</span> (in == out)</span><br><span class="line">			; <span class="comment">/* do nothing */</span></span><br><span class="line">		nextConsumed = buffer[out];</span><br><span class="line">		out = (out + <span class="number">1</span>) % BUFFER_SIZE;</span><br><span class="line">    	counter--;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>生产者和消费者的代码都正确，但是并发执行时它们可能不能正确运行，因为允许两个进程并发操作变量counter。</p>
<p>多个进程并发访问和操作同一数据且执行结果与访问发生的特定顺序有关，称为<strong>竞争条件</strong>。为了避免竞争条件，需要确保一段时间内只有一个进程能操作变量counter，为了实现这种保证，需要进行同步。</p>
<p>可能导致竞争条件的代码区域就是<strong>临界区</strong>。</p>
<h4 id="同步问题的基本代码框架"><a href="#同步问题的基本代码框架" class="headerlink" title="同步问题的基本代码框架"></a>同步问题的基本代码框架</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112001321771.png" alt="image-20220112001321771" style="zoom: 50%;"></p>
<h4 id="互斥，有空让进，有限等待"><a href="#互斥，有空让进，有限等待" class="headerlink" title="互斥，有空让进，有限等待"></a>互斥，有空让进，有限等待</h4><p>临界区问题的解答必须满足这三个要求</p>
<p><strong>互斥</strong>：如果进程Pi在其临界区内执行，那么其他进程都不能在临界区内执行。</p>
<p><strong>有空让进</strong>：当没有进程在互斥区时，任何有权使用互斥区的进程可进入。</p>
<p><strong>有限等待</strong>：任何进入互斥区的要求应在有限的时间内得到满足。</p>
<p>试证明该算法满足临界区问题的三个要求：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112105906769.png" alt="image-20220112105906769" style="zoom: 80%;"></p>
<p>​        互斥：注意到只有flag[j]==false或者turn==i时，进程i才能进入临界区，而且如果两个进程都进入临界区的话，turn==i&amp;&amp;turn==j，而turn的值只能为i和j中的一个，不可能同时为两个值，因此只有一个进程进入临界区，互斥成立。</p>
<p>​        有空让进：假设j没有发出进入临界区的请求，那么flag[j]==false，进程i可以直接进入临界区；假设i和j同时发出进入临界区的请求，由于turn的值只有一个，当turn==i的时候，那么进程j必须等待，这个时候进程i也是能直接进入临界区的，因此有空让进成立</p>
<p>​        有限等待：假设进程i进入了临界区，而进程j在等待，当进程i从临界区出去时，将turn置为j，那么下次进入临界区的一定不是i（因为j会直接进入临界区，如果i请求进入临界区的时候j还没有进去，由于turn==j，进程i也会循环等待，知道进程j进入临界区并从其中出来），因此满足有限等待</p>
<h4 id="Peterson算法"><a href="#Peterson算法" class="headerlink" title="Peterson算法"></a>Peterson算法</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112003000895.png" alt="image-20220112003000895" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112003015019.png" alt="image-20220112003015019" style="zoom:67%;"></p>
<h4 id="面包师算法"><a href="#面包师算法" class="headerlink" title="面包师算法"></a>面包师算法</h4><p>面包师算法是n个进程进入临界区问题的算法</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112003656303.png" alt="image-20220112003656303" style="zoom: 25%;"></p>
<h4 id="硬件同步"><a href="#硬件同步" class="headerlink" title="硬件同步"></a>硬件同步</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112102921033.png" alt="image-20220112102921033" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112102928175.png" alt="image-20220112102928175" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112102935367.png" alt="image-20220112102935367" style="zoom:67%;"></p>
<p>使用TestAndSet的有限等待互斥锁可以满足三个条件。</p>
<p>总而言之硬件同步面临几个问题：</p>
<p>1）<strong>忙等待</strong>。就是当进程正在临界段中执行时，其它想进入临界段的进程必须不断地测试布尔变量lock的值，这就造成了处理机机时的浪费</p>
<p>2）<strong>饥饿</strong>。如果从等待进程随机选择进入临界区，有的进程可能永远也选不上。</p>
<p>3）<strong>实现复杂</strong>。将测试能否进入临界区的责任推给各个竞争的进程会削弱系统的可靠性，加重了用户编程负担。</p>
<p>因此诞生了信号量</p>
<h4 id="信号量和PV操作"><a href="#信号量和PV操作" class="headerlink" title="信号量和PV操作"></a>信号量和PV操作</h4><p>信号量是一种记录型数据结构，有两个分量：一个是<strong>信号量的值</strong>，另一个是<strong>信号量队列的队列指针</strong>。</p>
<p><strong>信号量的值的含义：</strong></p>
<p>如果S.value≥0,则表明系统<strong>有多少个临界资源</strong>可以分配给请求的进程。</p>
<p>如果S.value&lt;0,表示<strong>等待使用该临界资源的进程数</strong>。</p>
<p><strong>P、V操作定义：</strong></p>
<p>P(s): s.value—;若s.value小于0，调用P(s)的进程被置为等待信号量s的状态，并将其挂到信号量的等待队列上。</p>
<p>V(s):s.value++;若s.value不大于0，则释放一个等待信号量s的进程</p>
<p><strong>注意事项</strong>：P、V操作是成对出现的，P、V操作应紧贴临界区。</p>
<p>又有<strong>同步</strong>又有<strong>互斥</strong>：互斥锁紧贴临界区</p>
<p>优点：简单，表达能力强，可以解决任何同步互斥问题。</p>
<p>缺点：不够安全，使用不当会出现死锁，遇到复杂的情况实现复杂。</p>
<p>利用信号量完成进程间同步与互斥<strong>步骤</strong></p>
<p>1）分析同步关系（制约关系）</p>
<p>2）设置信号量（有几项制约关系就设置几个信号量）</p>
<p>3）选择并确定信号量的初值（初值与初始可用资源有关）</p>
<p>4）利用PV操作写出同步关系</p>
<h4 id="生产者消费者问题"><a href="#生产者消费者问题" class="headerlink" title="生产者消费者问题"></a>生产者消费者问题</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112110325884.png" alt="image-20220112110325884" style="zoom: 67%;"></p>
<p>有限缓冲区：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Semaphore mutex,full,empty;</span><br><span class="line">mutex=<span class="number">1</span>;</span><br><span class="line">empty=n;</span><br><span class="line">full=<span class="number">0</span>;</span><br><span class="line">process producter&#123;</span><br><span class="line">	P(empty);</span><br><span class="line">	P(mutex);</span><br><span class="line">	produce();</span><br><span class="line">	V(mutex);</span><br><span class="line">	V(full);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">Process Consumer&#123;</span><br><span class="line">	P(full);</span><br><span class="line">	P(mutex);</span><br><span class="line">	consume();</span><br><span class="line">	V(mutex);</span><br><span class="line">	V(empty);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>无限缓冲区</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Semaphore mutex,data;</span><br><span class="line">mutex=<span class="number">1</span>;<span class="comment">//只有一个进程可访问缓冲区</span></span><br><span class="line">data=<span class="number">0</span>;<span class="comment">//开始时缓冲区是空白的</span></span><br><span class="line">process Productor&#123;</span><br><span class="line">    P(mutex);</span><br><span class="line">    produce();<span class="comment">//生产</span></span><br><span class="line">    V(data);<span class="comment">//生产出了一个数据</span></span><br><span class="line">    V（mutex);</span><br><span class="line">&#125;</span><br><span class="line">Process Consumer&#123;</span><br><span class="line">    P(data);</span><br><span class="line">    P(mutex);</span><br><span class="line">    consume();<span class="comment">//消费数据</span></span><br><span class="line">    V(mutex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="读者-写者问题"><a href="#读者-写者问题" class="headerlink" title="读者-写者问题"></a>读者-写者问题</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112111252426.png" alt="image-20220112111252426" style="zoom:50%;"></p>
<p>制约条件分析：</p>
<p>读读允许：允许多个进程同时读文件</p>
<p>读写互斥：不允许在进程读文件时让另一进程去写文件；有进程在写文件时不让另一进程去读该文件。</p>
<p>写写互斥：不允许多个写进程同时写同一文件</p>
<p><strong>读者优先问题</strong>：只要不断地有读者来读，那么写者就会一直饥饿</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Semaphore mutex, wrt;</span><br><span class="line">mutex = <span class="number">1</span>; </span><br><span class="line">wrt = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">int</span> readcount = <span class="number">0</span>;</span><br><span class="line">Reader&#123;</span><br><span class="line">	P(mutex);</span><br><span class="line">	readcount++;	</span><br><span class="line">	<span class="keyword">if</span> (readcount == <span class="number">1</span>)</span><br><span class="line">    	 P(wrt);</span><br><span class="line">	V(mutex);</span><br><span class="line">     …</span><br><span class="line">   		reading is performed</span><br><span class="line">	 …</span><br><span class="line">	P(mutex);</span><br><span class="line">	readcount--;</span><br><span class="line">	<span class="keyword">if</span> (readcount == <span class="number">0</span>)</span><br><span class="line">    	V(wrt);</span><br><span class="line">	V(mutex):</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Writer&#123;</span><br><span class="line">	P(wrt);</span><br><span class="line">    	<span class="function">writing is performed</span></span><br><span class="line"><span class="function">	<span class="title">V</span><span class="params">(wrt)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>写者优先问题：</strong>写者线程的优先级高于读者线程。写这到来时优先进行写操作</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;  <span class="comment">//用于记录当前的读者数量</span></span><br><span class="line">semaphore mutex = <span class="number">1</span>;  <span class="comment">//用于保护更新count变量时的互斥</span></span><br><span class="line">semaphore rw=<span class="number">1</span>;  <span class="comment">//用于保证读者和写者互斥地访问文件</span></span><br><span class="line">semaphore w=<span class="number">1</span>;  <span class="comment">//用于实现“写优先”</span></span><br><span class="line"> </span><br><span class="line">writer()&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        P(w);  <span class="comment">//在无写进程请求时进入</span></span><br><span class="line">        P(rw);  <span class="comment">//互斥访问共享文件</span></span><br><span class="line">        writing;  <span class="comment">//写入</span></span><br><span class="line">        V(rw);  <span class="comment">// 释放共享文件</span></span><br><span class="line">        V(w) ;  <span class="comment">//恢复对共享支件的访问</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">reader () &#123;  <span class="comment">//读者进程</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)&#123;</span><br><span class="line">        P (w) ;  <span class="comment">// 在无写进程请求时进入</span></span><br><span class="line">        P (mutex);  <span class="comment">// 互斥访问count变量</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (count==<span class="number">0</span>)  <span class="comment">//当第一个读进程读共享文件时</span></span><br><span class="line">            P(rw);  <span class="comment">//阻止写进程写</span></span><br><span class="line"> </span><br><span class="line">        count++;  <span class="comment">//读者计数器加1</span></span><br><span class="line">        V (mutex) ;  <span class="comment">//释放互斥变量count</span></span><br><span class="line">        V(w);  <span class="comment">//恢复对共享文件的访问</span></span><br><span class="line">        reading;  <span class="comment">//读取</span></span><br><span class="line">        P (mutex) ; <span class="comment">//互斥访问count变量</span></span><br><span class="line">        count--;  <span class="comment">//读者计数器减1</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (count==<span class="number">0</span>)  <span class="comment">//当最后一个读进程读完共享文件</span></span><br><span class="line">            V(rw);  <span class="comment">//允许写进程写</span></span><br><span class="line"> </span><br><span class="line">        V (mutex);  <span class="comment">//释放互斥变量count</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>公平竞争：</strong></p>
<p>多个读者，可能造成读者数量统计问题（第一个互斥）</p>
<p>读者写者竞争（第二个互斥）</p>
<p>确保写者有竞争力（第三个互斥)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Semaphore readcount,compete,grep;</span><br><span class="line">readcountmutex=<span class="number">1</span>;<span class="comment">//读者</span></span><br><span class="line">compete=<span class="number">1</span>;</span><br><span class="line">grep=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;<span class="comment">//记录读者人数</span></span><br><span class="line">process Write&#123;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">       P(grep);</span><br><span class="line">       P(compete);</span><br><span class="line">       write();</span><br><span class="line">       V(compete);</span><br><span class="line">       V(grep);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">process Read&#123;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		P(grep);</span><br><span class="line">		P(readcountmutex);<span class="comment">//申请开启读者计数器（）</span></span><br><span class="line">		<span class="keyword">if</span>(count==<span class="number">0</span>)</span><br><span class="line">			P(compete);<span class="comment">//发现是第一个读者</span></span><br><span class="line">		count++;<span class="comment">//记录读者</span></span><br><span class="line">		V(readcountmutex);</span><br><span class="line">		V(grep);</span><br><span class="line">		read();</span><br><span class="line">		P(readcountmutex);</span><br><span class="line">		<span class="keyword">if</span>(count==<span class="number">1</span>)</span><br><span class="line">			V(compete);</span><br><span class="line">		count--;</span><br><span class="line">		V(readcountmutex);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="哲学家进餐问题"><a href="#哲学家进餐问题" class="headerlink" title="哲学家进餐问题"></a>哲学家进餐问题</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112112730086.png" alt="image-20220112112730086" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112122202580.png" alt="image-20220112122202580" style="zoom:67%;"></p>
<p>如果这样处理就会死锁，解决措施：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112122253826.png" alt="image-20220112122253826" style="zoom:67%;"></p>
<h4 id="过独木桥问题"><a href="#过独木桥问题" class="headerlink" title="过独木桥问题"></a>过独木桥问题</h4><p>同一方向的行人可连续过桥，当某一方向有人过桥时，另一方向的行人必须等待；当某一方向无人过桥时，另一方向的行人可以过桥</p>
<p>制约关系在于一次只能朝一个方向过桥，且一次只有一个人过桥</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Semaphore mutex,left,right;</span><br><span class="line">mutex=<span class="number">0</span>;<span class="comment">//确保一次一个人过桥</span></span><br><span class="line">left=<span class="number">1</span>;<span class="comment">//左边车辆可通行</span></span><br><span class="line">right=<span class="number">1</span>;<span class="comment">//右边车辆可通行</span></span><br><span class="line"><span class="keyword">int</span> countleft=<span class="number">0</span>,countright=<span class="number">0</span>;<span class="comment">//行人数量。</span></span><br><span class="line">process LeftRedestrian&#123;</span><br><span class="line">    P(Left);</span><br><span class="line">    countleft++;</span><br><span class="line">    <span class="keyword">if</span>(countleft==<span class="number">1</span>)p(Mutex);</span><br><span class="line">    V(Left);</span><br><span class="line">    lefttoright();</span><br><span class="line"> 	P(Left);</span><br><span class="line">    countleft--;</span><br><span class="line">    <span class="keyword">if</span>(countleft==<span class="number">0</span>)V(Mutex);</span><br><span class="line">    V(Left);</span><br><span class="line">&#125;</span><br><span class="line">process RightRedestrian&#123;</span><br><span class="line">  	P(Right);</span><br><span class="line">    countright++;</span><br><span class="line">    <span class="keyword">if</span>(countright==<span class="number">1</span>)p(Mutex);</span><br><span class="line">    V(Right);</span><br><span class="line">    righttoleft();</span><br><span class="line"> 	P(Right);</span><br><span class="line">    countright--;</span><br><span class="line">    <span class="keyword">if</span>(countright==<span class="number">0</span>)V(Mutex);</span><br><span class="line">    V(Right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="理发店问题"><a href="#理发店问题" class="headerlink" title="理发店问题"></a>理发店问题</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Semaphore barber,customer,mutex; </span><br><span class="line">mutex=<span class="number">1</span>;<span class="comment">//互斥信号量</span></span><br><span class="line">barber=customs=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> S=<span class="number">0</span>;<span class="comment">//代表被占的座位个数</span></span><br><span class="line">process Barber&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        P(customer);</span><br><span class="line">        P(mutex);<span class="comment">//只能有一个客人</span></span><br><span class="line">        S--;</span><br><span class="line">        V(mutex);</span><br><span class="line">        V(berber);</span><br><span class="line">        cuthair();<span class="comment">//理发    </span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">process Customer&#123;    </span><br><span class="line">	P(mutex);</span><br><span class="line">    <span class="keyword">if</span>(S&lt;n)&#123;</span><br><span class="line">        S++;</span><br><span class="line">    V(mutex);</span><br><span class="line">    V(customer);<span class="comment">//表示有顾客</span></span><br><span class="line">    P(barber);<span class="comment">//等待理发师</span></span><br><span class="line">    Gethaircut();<span class="comment">//被理发</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> V(mutex);<span class="comment">//没有座就走        </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="小和尚接水老和尚喝水问题"><a href="#小和尚接水老和尚喝水问题" class="headerlink" title="小和尚接水老和尚喝水问题"></a>小和尚接水老和尚喝水问题</h4><p>某寺庙，有小和尚、老和尚若干．庙内有一水缸，由小和尚提水入缸，供老和尚饮用。水缸可容纳 30桶水，每次入水、取水仅为1桶，不可同时进行。水取自同一井中，水井径窄，每次只能容纳一个水桶取水。设水桶个数为5个，试用信号灯和PV操作给出老和尚和小和尚的活动</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Semaphore mutex,bucket,full,empty;</span><br><span class="line">mutex=<span class="number">1</span>;</span><br><span class="line">bucket=<span class="number">5</span>;</span><br><span class="line">full=<span class="number">0</span>;<span class="comment">//水缸的满空间（水缸有0空间被占用）</span></span><br><span class="line">empty=<span class="number">30</span>;<span class="comment">//水缸的空空间（水缸有30的空间没有被占用）</span></span><br><span class="line">process OldBuddhistMonk&#123;</span><br><span class="line">    P(full);<span class="comment">//等待至少为1的满空间</span></span><br><span class="line">    P(bucket);<span class="comment">//先找到水桶</span></span><br><span class="line">    P(mutex);<span class="comment">//确保没人取水，进入cs</span></span><br><span class="line">    getwater();<span class="comment">//取水</span></span><br><span class="line">    V(mutex);<span class="comment">//离开cs</span></span><br><span class="line">    V(full);<span class="comment">//释放一空空间</span></span><br><span class="line">    drinkwater();<span class="comment">//喝水</span></span><br><span class="line">    V(bucket);<span class="comment">//释放空桶</span></span><br><span class="line">&#125;</span><br><span class="line">process LittleBuddhistMonk&#123;</span><br><span class="line">	P(bucket);<span class="comment">//空桶</span></span><br><span class="line">    P(mutex);<span class="comment">//确保没人取水，进入cs</span></span><br><span class="line">    getwaterfromwell();<span class="comment">//从井里取水</span></span><br><span class="line">    V(mutex);<span class="comment">//离开cs</span></span><br><span class="line">    transit();<span class="comment">//运输</span></span><br><span class="line">    P(empty)<span class="comment">//至少为1的空空间</span></span><br><span class="line">    P(mutex);<span class="comment">//确保没人取水，进入cs</span></span><br><span class="line">    dropwater();<span class="comment">//把水放到水缸里</span></span><br><span class="line">    V(mutex);<span class="comment">//离开cs</span></span><br><span class="line">    V(bucket);<span class="comment">//释放空桶</span></span><br><span class="line">    V(full);<span class="comment">//至少为1的满空间</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h3><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112123746218.png" alt="image-20220112123746218" style="zoom:67%;"></p>
<h4 id="死锁的四个必要条件"><a href="#死锁的四个必要条件" class="headerlink" title="死锁的四个必要条件"></a>死锁的四个必要条件</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112123801810.png" alt="image-20220112123801810" style="zoom:67%;"></p>
<h4 id="有环不一定死锁"><a href="#有环不一定死锁" class="headerlink" title="有环不一定死锁"></a>有环不一定死锁</h4><blockquote>
<p>如果每个资源类型只有一个。有环==死锁</p>
<p>如果有的资源类型有多个，那么死锁一定有环，但有环不一定死锁</p>
</blockquote>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112124119252.png" alt="image-20220112124119252" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112124140558.png" alt="image-20220112124140558" style="zoom:67%;"></p>
<h4 id="怎么来解决死锁问题"><a href="#怎么来解决死锁问题" class="headerlink" title="怎么来解决死锁问题"></a>怎么来解决死锁问题</h4><p>三种方法：死锁预防，死锁避免，死锁恢复</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112124741028.png" alt="image-20220112124741028" style="zoom:67%;"></p>
<p><strong>死锁预防：针对四种必要条件</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125019652.png" alt="image-20220112125019652" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125101540.png" alt="image-20220112125101540" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125337122.png" alt="image-20220112125337122" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125417945.png" alt="image-20220112125417945" style="zoom:67%;"></p>
<p>死锁预防的代价是<strong>低设备使用率</strong>和<strong>系统吞吐率</strong></p>
<p>死锁避免：资源图分配算法和<strong>银行家算法</strong></p>
<h4 id="安全序列和安全状态"><a href="#安全序列和安全状态" class="headerlink" title="安全序列和安全状态"></a>安全序列和安全状态</h4><p>如果系统能按某个顺序为每个进程分配资源（不超过其最大值）并能避免死锁，那么系统状态就是安全的。更为准确地说，如果<strong>存在一个安全序列</strong>，那么系统处于<strong>安全状态</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112125947922.png" alt="image-20220112125947922" style="zoom:67%;"></p>
<h4 id="银行家算法"><a href="#银行家算法" class="headerlink" title="银行家算法"></a>银行家算法</h4><p>数据结构</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112130607347.png" alt="image-20220112130607347"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112130657987.png" alt="image-20220112130657987" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112130711371.png" alt="image-20220112130711371" style="zoom:67%;"></p>
<p>银行家算法<strong>缺点</strong>：</p>
<p>1）进程很难在运行前知道其所需资源的最大值</p>
<p>2）系统间各进程之间必须是<strong>无关</strong>的，即没有同步要求，无法处理有同步要求的进程</p>
<p>3）进程的数量和资源的数目是必须固定不变的，无法处理进程数量和资源数目动态变化的情况</p>
<h3 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h3><h4 id="逻辑地址和物理地址"><a href="#逻辑地址和物理地址" class="headerlink" title="逻辑地址和物理地址"></a>逻辑地址和物理地址</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112141219685.png" alt="image-20220112141219685" style="zoom:67%;"></p>
<p>内存的每个存储单元都有一个编号，这种编号是以字节为单元的存储器编号，称为<strong>物理地址</strong>，用户编程所用的地址称为<strong>逻辑地址</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112141457043.png" alt="image-20220112141457043" style="zoom:67%;"></p>
<h4 id="动态装入和动态链接"><a href="#动态装入和动态链接" class="headerlink" title="动态装入和动态链接"></a>动态装入和动态链接</h4><p>动态装入：在具有中程调度的系统中，进程出入内存的次数不只一次。一个子程序只有在调用时才被加载。所有的子程序都以<strong>可重定位的形式</strong>保存在磁盘上。装入时使用相对地址，装入时不变换地址，只有在执行时才完成地址的变换</p>
<p><strong>动态链接：</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112142223180.png" alt="image-20220112142223180" style="zoom:67%;"></p>
<p><strong>三种链接方式</strong>：</p>
<p>静态链接：装入模块是完整的包含所有的目标模块，链接后装入</p>
<p>装入时动态链接：装入模块并不包含所有目标模块，由系统装入操作在装入同时找到需要的其它模块，并链接</p>
<p>运行时动态链接:装入模块不完整，装入时也没有装入所有的模块,运行时根据需要，找到所需模块，装入，链接，再执行。</p>
<h4 id="连续内存分配"><a href="#连续内存分配" class="headerlink" title="连续内存分配"></a>连续内存分配</h4><p>内存通常分为两个区域：一个用于驻留操作系统，一个用于用户进程。在这里讨论<strong>操作系统位于低内存</strong>的情况。</p>
<p>通常需要将多个进程同时放在内存中，因此要考虑如何为输入队列中需要调入内存的进程分配内存空间。采用连续内存分配时，<strong>每个进程位于一个连续的内存区域</strong>。</p>
<p>内存的映射和保护：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112143512189.png" alt="image-20220112143512189" style="zoom:67%;"></p>
<p>内存分配：</p>
<p>连续内存分配把内存分为多个固定大小的分区，每个分区只能容纳一个进程</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112143753960.png" alt="image-20220112143753960" style="zoom:67%;"></p>
<p><strong>首次适应：</strong></p>
<p>步骤：1）将空白分区按地址递增顺序链接    2）从链首开始查找适合的分区    3）从选中的分区中分出所需的大小，其余部分仍留在空白分区链表里</p>
<p>特点：优先分配内存中低地址部分</p>
<p>优点：简单</p>
<p>缺点：在低地址部分会积累大量外零头</p>
<p><strong>最佳适应：</strong></p>
<p>步骤：1）空白分区按照分区大小递增排列    2）遇到第一个可分配空白分区就分配</p>
<p>优点：保证总有大分区可分配（排在后面）</p>
<p>缺点：1）效率不高，排在前面的分区不断变小，能被分出去的概率也就越来越低    2）外零头形成速度快</p>
<p><strong>最差适应：</strong></p>
<p>步骤：1）空白分区按照分区大小递减排列    2）遇到第一个可分配空白分区就分配</p>
<p>优点：查找效率显著提高，一次就找到</p>
<p>缺点：大作业容纳能力下降</p>
<p><strong>连续内存分配的缺点</strong>：</p>
<p>a)    必须按一定的策略去寻找符合条件的分区，耗时；</p>
<p>b)    造成外零头，浪费内存地址空间；为解决零头问题又要进行拼接等高开销活动；</p>
<p>c)    在后备存储器中同样存在着这样的问题；</p>
<h4 id="碎片问题和解决措施"><a href="#碎片问题和解决措施" class="headerlink" title="碎片问题和解决措施"></a>碎片问题和解决措施</h4><p>外零头：系统中无法利用的小储存快（一般位于孔和孔之间）</p>
<p>内零头：分配给作业的存储空间中未被利用的部分</p>
<p>解决措施：拼接紧凑、允许物理地址空间为非连续（分页）</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112145100637.png" alt="image-20220112145100637" style="zoom:67%;"></p>
<h4 id="分页的基本管理思想"><a href="#分页的基本管理思想" class="headerlink" title="分页的基本管理思想"></a>分页的基本管理思想</h4><p>将物理内存分为固定大小的块，称为<strong>帧</strong>；将逻辑内存分为同样大小的块，称为<strong>页</strong></p>
<p>一帧可以装入一页，但连续的多个页不一定装入连续的帧中</p>
<p>消灭了外零头，且让一个进程产生的内零头小于一个页大小</p>
<p>分页的地址变换：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112145347701.png" alt="image-20220112145347701" style="zoom:67%;"></p>
<h4 id="TLB"><a href="#TLB" class="headerlink" title="TLB"></a>TLB</h4><p>当页表比较大时，不得不将页表放到内存中，而访问一个字节需要访问两次内存，这种代价不能承受，因此引入了TLB</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151036082.png" alt="image-20220112151036082" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151057948.png" alt="image-20220112151057948" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151113069.png" alt="image-20220112151113069" style="zoom:67%;"></p>
<h4 id="分级页表、哈希页表、反转页表"><a href="#分级页表、哈希页表、反转页表" class="headerlink" title="分级页表、哈希页表、反转页表"></a>分级页表、哈希页表、反转页表</h4><p><strong>分级页表</strong></p>
<p>分级页表<strong>不需要用连续的空间存放页表</strong>。而且当页表过大时，可以将页表转储至硬盘，<strong>避免将全部的页表都存放在内存中</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151517949.png" alt="image-20220112151517949" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151529494.png" alt="image-20220112151529494" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151639301.png" alt="image-20220112151639301" style="zoom:67%;"></p>
<p><strong>哈希页表</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151823849.png" alt="image-20220112151823849" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112151842886.png" alt="image-20220112151842886" style="zoom:67%;"></p>
<p><strong>反向页表</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152546478.png" alt="image-20220112152546478" style="zoom: 67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152555790.png" alt="image-20220112152555790" style="zoom:67%;"></p>
<h4 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152814494.png" alt="image-20220112152814494" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152837485.png" alt="image-20220112152837485" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152941861.png" alt="image-20220112152941861" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112152958967.png" alt="image-20220112152958967" style="zoom: 67%;"></p>
<p>分段和分页的比较：</p>
<p>1）<strong>可见与不可见</strong>：“分页”是系统活动，用户无法介入，页的大小固定；“分段”是用户可见的，段大小可变</p>
<p>2）<strong>物理单位与逻辑单位</strong>：页是信息的物理单位，而不是逻辑单位，但段是完整的逻辑信息单位</p>
<p>3）<strong>地址空间</strong>：分页的作业空间是一维的，是单一线性空间；分段的作业空间是二维的。</p>
<h4 id="计算题"><a href="#计算题" class="headerlink" title="计算题"></a>计算题</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153445713.png" alt="image-20220112153445713" style="zoom: 50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153524379.png" alt="image-20220112153524379" style="zoom: 50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153550044.png" alt="image-20220112153550044" style="zoom: 50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153606885.png" alt="image-20220112153606885" style="zoom: 50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112153803975.png" alt="image-20220112153803975" style="zoom: 50%;"></p>
<p>某计算机有64位虚地址空间，页大小是2048B.每个页表项长为4B。因为所有页表都必须包含在一页中，故使用多级页表，问一共需要多少级？</p>
<p>2048B=2^11 64-11=53（地址中扣除页内地址位数） 共有2^5页</p>
<p>一页中可以装2048/4=2^9个页表项</p>
<p>9*6&gt;53 至少需要6级页表</p>
<p>已知系统为32位实地址，采用48位虚拟地址，页面大小4KB，页表项大小为8B；每段最大为4GB。若系统采用段页式存储，则每用户最多可以有多少个段？段内采用几级页表？</p>
<p>系统采用48位虚拟地址，每段最大为4GB，故段内地址为32位，段号为48-32=16位。每个用户最多可以有216个段。段内采用页式地址，与1)中计算同理，(32-12)/9，取上整为3，故段内应采用3级页表。</p>
<h3 id="虚拟内存"><a href="#虚拟内存" class="headerlink" title="虚拟内存"></a>虚拟内存</h3><p>虚拟内存的可行性基础是<strong>程序执行的局部性</strong></p>
<h4 id="为什么需要虚拟内存"><a href="#为什么需要虚拟内存" class="headerlink" title="为什么需要虚拟内存"></a>为什么需要虚拟内存</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112155612218.png" alt="image-20220112155612218" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112155827476.png" alt="image-20220112155827476" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112155915933.png" alt="image-20220112155915933" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160120779.png" alt="image-20220112160120779" style="zoom:67%;"></p>
<h4 id="请求式分页（按需调页）"><a href="#请求式分页（按需调页）" class="headerlink" title="请求式分页（按需调页）"></a>请求式分页（按需调页）</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160252626.png" alt="image-20220112160252626" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160313840.png" alt="image-20220112160313840" style="zoom:67%;"></p>
<p>调页程序不是调入整个进程，而是把那些需要的页调入内存。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112161001263.png" alt="image-20220112161001263" style="zoom:67%;"></p>
<h4 id="缺页中断"><a href="#缺页中断" class="headerlink" title="缺页中断"></a>缺页中断</h4><p>基本思想：当发现将要用到的页面不在主存中时产生缺页中断，由缺页中断来完成页面的调入</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160004175.png" alt="image-20220112160004175" style="zoom: 33%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112160522648.png" alt="image-20220112160522648" style="zoom:67%;"></p>
<h4 id="页面置换"><a href="#页面置换" class="headerlink" title="页面置换"></a>页面置换</h4><p>当需要访问的页面不在内存，有没有多余的空白内存块，这时需要将以装入页面中的一页置换到外存对换区，腾出的内存块可以装入需要的页面</p>
<p><strong>全局置换</strong>：允许一个进程从所有帧集合中选择一个置换帧，而不管该帧是否已分配给其他进程；一个进程可以从另一个进程中取帧。</p>
<p><strong>局部置换</strong>：要求每个进程仅从其自己的分配帧中进行选择</p>
<p>页面置换带来的<strong>问题</strong>：抖动问题：系统频繁地调进和调出页面，特别是被换出的页面在短时间内又要被换入，系统开销显著增加，以至于系统吞吐量大大下降</p>
<p>置换算法<strong>目标</strong>：减少抖动，降低同一页面的重复置换</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162029455.png" alt="image-20220112162029455" style="zoom:67%;"></p>
<p>工作集窗口：工作集的基本想法是找到<strong>最近的一段时间内需要用到的页面集合</strong>称为<strong>工作集</strong>，如果保证了这个工作集在内存中，那么就保证了这一段时间内不会抖动。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162059752.png" alt="image-20220112162059752" style="zoom:67%;"></p>
<h4 id="页面置换算法"><a href="#页面置换算法" class="headerlink" title="页面置换算法"></a>页面置换算法</h4><p>最佳置换策略(OPT)：被置换的内存页面应是以后永久不再需要或最久不再访问的页面－－理想算法</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162510711.png" alt="image-20220112162510711" style="zoom:67%;"></p>
<p>最简单的算法（FIFO)：按照页面进入内存的先后顺序置换</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162522558.png" alt="image-20220112162522558" style="zoom:67%;"></p>
<p>最近最久不用（LRU）：之前最近一段时间最久没有使用过的页面将被置换</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162547805.png" alt="image-20220112162547805" style="zoom:67%;"></p>
<p>最近最少使用（LFU）：之前最近一段时间最少使用过的页面将被置换</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112163607711.png" alt="image-20220112163607711" style="zoom:67%;"></p>
<p> <strong>LRU的实现</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162821859.png" alt="image-20220112162821859" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112162837647.png" alt="image-20220112162837647" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112163438409.png" alt="image-20220112163438409" style="zoom:50%;"></p>
<p>无论是counter方式还是堆栈方式，如果没有硬件的支持，每次引用都采用中断，以允许软件更新这些数据结构，那么内存引用会慢至少10倍。</p>
<p><strong>近似LRU算法的实现</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112163942956.png" alt="image-20220112163942956" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112164006039.png" alt="image-20220112164006039" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112164222409.png" alt="image-20220112164222409" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112164248983.png" alt="image-20220112164248983" style="zoom:67%;"></p>
<h3 id="文件系统接口"><a href="#文件系统接口" class="headerlink" title="文件系统接口"></a>文件系统接口</h3><p>操作系统中负责管理和存储文件信息的软件机构称为文件管理系统，简称文件系统。</p>
<p>文件系统由三部分组成：与文件管理有关软件、被管理文件以及实施文件管理所需数据结构。</p>
<p>从系统角度来看，文件系统是对文件存储器空间进行组织和分配，负责文件存储并对存入的文件进行保护和检索的系统。</p>
<h4 id="文件概念"><a href="#文件概念" class="headerlink" title="文件概念"></a>文件概念</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112165240323.png" alt="image-20220112165240323" style="zoom:67%;"></p>
<p>文件是具有符号名（文件名）的一组相关元素的有序序列，是一段程序或数据的集合</p>
<p>文件系统包含文件管理程序（文件与目录的集合）和所管理的全部文件，是用户与外存的接口，系统软件为用户提供统一方法（以数据记录的逻辑单位），访问存储在物理介质上的信息。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112170224160.png" alt="image-20220112170224160" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112170444910.png" alt="image-20220112170444910" style="zoom:67%;"></p>
<h4 id="文件类型"><a href="#文件类型" class="headerlink" title="文件类型"></a>文件类型</h4><p>实现文件类型的常用技术是在文件名称内包含类型–名称和扩展名</p>
<p>Windows中修改文件的默认打开方式是通过修改注册表</p>
<p>Linux中修改文件的默认打开方式是通过修改注册文件</p>
<p><em>/etc/gnome/defaults.list 保存了全局的打开方式</em></p>
<p><em>/.local/share/applications/mimeapps.list 保存了个人的打开方式</em></p>
<p>• Apple Macintonsh的文件有一个创建者属性，用来包含创建它的程序名称。当用户双击表示该文件的图标来打开文件时，就会自动调用相应的程序。</p>
<p>UNIX系统<strong>幻数</strong>（magic number）（保存在文件的开始部分的一个整数值）大致表示文件类型：可执行程序、批处理文件、postscript文件。但不是所有的文件都有幻数。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112170536809.png" alt="image-20220112170536809" style="zoom: 50%;"></p>
<h4 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h4><p>每个应用程序必须有自己的代码对输入文件进行合适的解释。但所有的OS必须至少支持一种结构，即可执行文件结构，以便能装入和运行程序。</p>
<blockquote>
<p>无：字或字节的序列</p>
<p>简单记录结构</p>
<p>行</p>
<p>固定长度</p>
<p>可变长度</p>
</blockquote>
<p><strong>复杂结构</strong></p>
<blockquote>
<p>格式化文档</p>
<p>可重定位装载文件</p>
</blockquote>
<p>可通过在第一种表示方法中插入适当的控制字符来模拟后两种表示方法</p>
<p>文件的结构由两者来决定</p>
<blockquote>
<p>1）OS</p>
<p>2）PE（windows可执行文件结构） ELF（linux可执行文件结构）</p>
</blockquote>
<h4 id="访问方法"><a href="#访问方法" class="headerlink" title="访问方法"></a>访问方法</h4><p><strong>顺序访问</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112171436303.png" alt="image-20220112171436303" style="zoom:67%;"></p>
<p><strong>直接访问</strong></p>
<p>另一方式是直接访问(或相对访问)。文件由固定长度的逻辑记录组成，以允许程序按任意顺序进行快速读和写。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112171707127.png" alt="image-20220112171707127" style="zoom:67%;"></p>
<h4 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h4><p>目录组织准则：</p>
<blockquote>
<p>高效：迅速定位文件</p>
<p>命名：方便用户</p>
<p>两个不同的用户的文件名称可以相同</p>
<p>同一文件可以有不同的名称</p>
<p>分组：按文件的属性逻辑分组（如所有java程序，所有游戏等）</p>
</blockquote>
<p><strong>单层结构目录</strong>：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172126683.png" alt="image-20220112172126683" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172133902.png" alt="image-20220112172133902" style="zoom:67%;"></p>
<p><strong>双层结构目录</strong>：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172209647.png" alt="image-20220112172209647" style="zoom:67%;"></p>
<p>这种解耦有效地对用户加以隔离。这种隔离在用户需要完全独立时是优点，但是在用户需要在某个任务上进行合作和访问其他文件时却是一个缺点</p>
<p><strong>树形结构目录</strong>：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172326975.png" alt="image-20220112172326975" style="zoom:67%;"></p>
<p>删除的选择：</p>
<p>1：直接把目录下的所有文件和内容都删除掉（可能会删除掉有用的文件）。</p>
<p>2：要求先把内容清空，然后才能删除目录（工作量大）。</p>
<p>3：提供命令参数选项。</p>
<p><strong>无环图目录</strong>：克服了树形不能共享目录和文件的缺点</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112172449023.png" alt="image-20220112172449023" style="zoom:67%;"></p>
<p>如何确保无环？</p>
<p>1）只允许链接发生在文件，而非子目录上</p>
<p>2）<strong>垃圾收集</strong>：自我引用的文件，其引用计数不等于0</p>
<p>垃圾收集涉及遍历整个文件系统，并标记所有可访问的空间。然后，第二次将所有没有标记的部分收集到空闲空间链表上。</p>
<p>3）每当新链接建立的时候，就采用相应的算法进行检测，以避免环的出现。</p>
<h3 id="文件系统实现"><a href="#文件系统实现" class="headerlink" title="文件系统实现"></a>文件系统实现</h3><h4 id="文件系统分层"><a href="#文件系统分层" class="headerlink" title="文件系统分层"></a>文件系统分层</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112184902126.png" alt="image-20220112184902126" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112182616128.png" alt="image-20220112182616128" style="zoom:67%;"></p>
<p><strong>I/O控制</strong>：由设备驱动程序和中断处理程序组成，实现内存与磁盘之间的信息转移</p>
<p><strong>基本文件系统</strong>：向合适的设备驱动程序发送一般命令，就可对磁盘上的物理块进行读写</p>
<p><strong>文件组织模块</strong>：知道文件及其逻辑块和物理块，完成逻辑块—&gt;物理块。是空闲空间管理器</p>
<p><strong>逻辑文件系统</strong>：</p>
<p>1）管理元数据：文件系统的所有结构数据，而不包括实际数据（或文件内容）</p>
<p>2）根据给定<strong>符号文件名</strong>来管理目录结构</p>
<p>3）逻辑文件系统通过<strong>文件控制块(FCB)</strong>来维护文件结构</p>
<h4 id="FCP控制块"><a href="#FCP控制块" class="headerlink" title="FCP控制块"></a>FCP控制块</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185530566.png" alt="image-20220112185530566" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185544624.png" alt="image-20220112185544624" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185603536.png" alt="image-20220112185603536" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112185807425.png" alt="image-20220112185807425" style="zoom:67%;"></p>
<p><strong>文件描述符</strong></p>
<p>文件描述符在形式上是一个非负整数。当程序打开一个现有文件或者创建一个新文件时，内核向进程返回一个文件描述符。文件进程控制块中都有一份文件描述符表（可以把它<strong>看成是一个数组</strong>，里面的元素是指向file结构体指针类型），这个<strong>数组的下标</strong>就是文件描述符。文件描述符是Linux/unix下的概念</p>
<h4 id="linux的虚拟文件系统"><a href="#linux的虚拟文件系统" class="headerlink" title="linux的虚拟文件系统"></a>linux的虚拟文件系统</h4><p>虚拟文件系统(VFS)提供了一种面向对象的方法来实现文件系统。VFS允许在不同类型的文件系统上采用同样的系统调用接口（API）</p>
<p>API是针对VFS的接口，而非对任何特定类型的文件系统</p>
<p>目标：同时支持多种文件系统，系统中安装多个文件系统时，对用户而言没有区别，他们都表现为一致的接口。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112190404791.png" alt="image-20220112190404791" style="zoom:67%;"></p>
<h4 id="目录实现"><a href="#目录实现" class="headerlink" title="目录实现"></a>目录实现</h4><p>最为简单的目录实现方法是使用存储文件名和数据块指针的<strong>线性列表</strong>（数组、链表等）</p>
<p>优点：容易实现</p>
<p>缺点：运行费时：采用线性搜索来查找特定条目</p>
<p>或者采用<strong>Hash表</strong>：采用Hash数据结构的线性表</p>
<p>减少了目录搜索时间</p>
<p>可能存在碰撞：两个文件名哈希到相同的位置</p>
<p>哈希表的最大困难是其<strong>通常固定的大小和哈希函数对大小的依赖性</strong></p>
<h4 id="分配方法"><a href="#分配方法" class="headerlink" title="分配方法"></a>分配方法</h4><p>三种方法：<strong>连续分配</strong>、<strong>链接分配</strong>和<strong>索引分配</strong></p>
<p><strong>连续分配</strong></p>
<p>支持顺序访问和直接访问</p>
<p>特点：</p>
<p>1）简单 ， 只需要记录文件的起始位置（块号）及长度。</p>
<p>2）访问文件很容易，所需的寻道时间也最少</p>
<p>存在的问题：</p>
<p>1）为新文件找空间比较困难（类似于内存分配中的连续内存分配方式）</p>
<p>2）文件很难增长</p>
<p>解决措施：</p>
<p>许多新的文件系统采用一种修正的连续分配方法，该方法开始分配一块连续空间，当空间不够时，另一块被称为扩展的连续空间会添加到原来的分配中。文件块的位置就成为开始地址、块数、加上一个指向下一扩展的指针。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112191304290.png" alt="image-20220112191304290" style="zoom:67%;"></p>
<p><strong>链接分配</strong></p>
<p>只支持顺序访问，不支持直接访问</p>
<p>优点：</p>
<p>1）简单 ：只需起始位置</p>
<p>2）文件创建与增长容易</p>
<p>缺点：</p>
<p>1）不能随机访问</p>
<p>2）块与块之间的链接指针需要占用空间。因此引入簇（将多个连续块组成簇，磁盘以簇为单位进行分配）</p>
<p>3）存在可靠性问题（指针可能丢失或者损坏）</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112192116366.png" alt="image-20220112192116366" style="zoom:67%;"></p>
<p><strong>FAT</strong>就是链接分配方式的变种，用于MOS，和OS/2操作系统</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112192641750.png" alt="image-20220112192641750" style="zoom:67%;"></p>
<p>如果不对 FAT 采用缓存， FAT 分配方案可能导致大量的磁头寻道时间。磁头必须移到 卷的开头以便读入 FAT.寻找所需要块的位置，接着移到块本身的位置。在最坏的情况下，每块都需要移动两次。其优点是改善了随机访问时间，因为通过读入 FAT 信息，磁头能找到任何块的位置</p>
<p><strong>索引分配</strong></p>
<p>1）将所有的数据块指针集中到索引块中：索引块中的第i个条目指向文件的第i块；目录条目包括索引块的地址</p>
<p>2）索引分配支持直接访问，且没有外部碎片问题</p>
<p>3）索引块本身可能会浪费空间</p>
<blockquote>
<p>链接方案：一个索引块通常为一个磁盘块。对于大文件，可以将多个索引块链接起来。</p>
<p>多层索引：类似于内存的间接寻址方式（一级、二级间接…）</p>
<p>组合方案：如Unix的inode</p>
</blockquote>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112192956574.png" alt="image-20220112192956574" style="zoom: 67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112193454479.png" alt="image-20220112193454479" style="zoom:67%;"></p>
<h4 id="空闲空间的管理"><a href="#空闲空间的管理" class="headerlink" title="空闲空间的管理"></a>空闲空间的管理</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194003561.png" alt="image-20220112194003561" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194140777.png" alt="image-20220112194140777" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194202780.png" alt="image-20220112194202780" style="zoom:67%;"></p>
<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>假定一个文件系统组织方式与MS-DOS相似，在FAT中可有64K个指针，磁盘的盘块大小为512B，试问该文件系统能否用于一个512MB的磁盘？</p>
<p>答:有512MB/512B = 1M个盘块，64K个指针不够</p>
<p>设定一个文件的i节点为128字节，文件的状态信息占用了68个字节；一个盘块指针为4字节长，每块的大小为8K。使用直接指针、一次间接指针、二次间接指针、三次间接指针分别可以表示多大的文件?</p>
<p>答案：</p>
<p>直接指针项数：(128-68)/4-3=12（个）</p>
<p>12*80K=960KB</p>
<p>一次间接指针:（8K/4）*8K=16MB</p>
<p>二次间接指针:2K<em>2K</em>8K=32G</p>
<p>三次间接: 2K<em>2K</em>2K*8K=16TB</p>
<p>在UNIX中，每个i节点中有10个直接地址和一、二、三级间接索引。若每个盘块512B，每个盘块地址4B，则一个1MB的文件分别占用多少间接盘块？25MB的文件呢？</p>
<p>10个直接盘块存放的容量为：10*512B/1024 = 5KB</p>
<p>一个盘块中可放的盘块地址数为：512B/4B = 128</p>
<p>一次间接索引存放的容量为：128*512B/1024 = 64KB</p>
<p>二次间接索引存放的容量为：128<em>128</em>512B/1024 = 8192KB</p>
<p>三次间接索引存放的容量为：128<em>128</em>128*512B/1024 = 1048576KB</p>
<p>1MB为1024KB，1024KB-64KB-5KB=955KB，需要二次间接盘块为955×1024B/512B=1910</p>
<p>1MB的文件分别占用1910个二次间接盘块，128个一次间接块和10个直接块</p>
<p>25MB为：25×1024KB—64KB-5KB-8192KB=17339KB,  17339×1024B/512B=34678</p>
<p>所以25MB的文件分别占用128个一次间接盘块和128^2=16384个二次间接盘块，   34678个三次间接盘块</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194615793.png" alt="image-20220112194615793" style="zoom: 67%;"></p>
<h3 id="大容量存储器的结构"><a href="#大容量存储器的结构" class="headerlink" title="大容量存储器的结构"></a>大容量存储器的结构</h3><h4 id="磁盘的结构的基本概念"><a href="#磁盘的结构的基本概念" class="headerlink" title="磁盘的结构的基本概念"></a>磁盘的结构的基本概念</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112194936525.png" alt="image-20220112194936525" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112195001905.png" alt="image-20220112195001905" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112195203628.png" alt="image-20220112195203628" style="zoom:50%;"></p>
<h4 id="磁盘的访问时间和哪几个因素有关"><a href="#磁盘的访问时间和哪几个因素有关" class="headerlink" title="磁盘的访问时间和哪几个因素有关"></a>磁盘的访问时间和哪几个因素有关</h4><p>磁盘访问时间 = 寻道时间 + 旋转时间 + 传输时间 + 控制器开销</p>
<p>寻道时间：磁臂将磁头移动到包含目标扇区的柱面的时间。</p>
<p>旋转时间：磁盘需要将目标扇区转动到磁头下的时间。</p>
<h4 id="磁盘调度"><a href="#磁盘调度" class="headerlink" title="磁盘调度"></a>磁盘调度</h4><p><strong>FCFS算法</strong></p>
<p>优点：简单，公平；</p>
<p>缺点：效率不高，相邻两次请求可能会造成最内到最外的柱面寻道，使磁头反复移动，增加了服务时间，对机械也不利</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112200330390.png" alt="image-20220112200330390" style="zoom:67%;"></p>
<p><strong>SSTF 调度 最短寻道时间优先算法</strong></p>
<p>优先选择距当前磁头最近的访问请求进行服务，主要考虑寻道优先</p>
<p>优点：改善了磁盘平均服务时间</p>
<p>缺点：造成某些访问请求长期等待得不到服务</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112200827909.png" alt="image-20220112200827909" style="zoom:67%;"></p>
<p><strong>SCAN调度 电梯算法</strong></p>
<p>克服了最短寻道优先的缺点，既考虑了距离，同时又考虑了方向</p>
<p>磁臂从磁盘的一端向另一端移动，同时当磁头移过每个柱面时，处理位于该柱面上的服务请求。当到达另一端时，磁头改变移动方向，处理继续。磁头在磁盘上来回扫描。有时也叫做“电梯(Elevator )”算法</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201112826.png" alt="image-20220112201112826" style="zoom:67%;"></p>
<p><strong>C-SCAN调度 单向扫描算法</strong></p>
<p>循环扫描算法是对扫描算法的改进。如果对磁道的访问请求是均匀分布的，当磁头到达磁盘的一端，并反向运动时落在磁头之后的访问请求相对较少。这是由于这些磁道刚被处理，而磁盘另一端的请求密度相当高，且这些访问请求等待的时间较长，为了解决这种情况，循环扫描算法规定磁头单向移动。例如，只自里向外移动，当磁头移到最外的被访问磁道时，磁头立即返回到最里的欲访磁道，即将最小磁道号紧接着最大磁道号构成循环，进行扫描。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201242869.png" alt="image-20220112201242869" style="zoom:67%;"></p>
<p><strong>LOOK调度</strong></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201409244.png" alt="image-20220112201409244" style="zoom:67%;"></p>
<p><strong>磁盘调度算法的选择</strong></p>
<p>•SSTF较为普通且很有吸引力</p>
<p>•SCAN和C-SCAN对<strong>磁盘负荷较大的系统会执行得更好</strong>，这是因为它不可能产生饥饿问题。</p>
<p>•对于任何调度算法，性能依赖于请求的类型与数量</p>
<p>•<strong>磁盘服务请求很大程度上受文件分配方法所影响</strong>（文件连续分配时磁头移动距离一般更短）</p>
<p>•磁盘调度算法应作为一个操作系统的独立模块，这样如果有必要，它可以替换成另一个不同的算法。</p>
<p>•SSTF或LOOK是比较合理的缺省算法。</p>
<h4 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112201827280.png" alt="image-20220112201827280" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202035716.png" alt="image-20220112202035716" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202506003.png" alt="image-20220112202506003" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202314011.png" alt="image-20220112202314011" style="zoom: 50%;"></p>
<p>RAID1特点：</p>
<p>1）读性能好。</p>
<p>2）可靠性很高。</p>
<p>最昂贵的解决方法，物理磁盘空间是逻辑磁盘空间的两倍。 </p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202424562.png" alt="image-20220112202424562" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202446067.png" alt="image-20220112202446067" style="zoom:50%;"></p>
<p>在RAID 1+0的情况下，当一块独立的物理磁盘故障后，由于有一块对应镜像磁盘保护数据（除非对应的特定镜像硬盘也同时发生故障），因此不会对性能带来影响，从而显著高于RAID 0+1的容错性。磁盘故障后的恢复成本RAID 1+0技术也远低于RAID 0+1。在RAID 1+0技术中只需要重建一块物理磁盘，而RAID 0+1技术必须重建由块中所有物理磁盘组成的虚拟磁盘，从这点也能够体现出RAID 1+0相对RAID 0+1的优势。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202617380.png" alt="image-20220112202617380" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202845091.png" alt="image-20220112202845091" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202901042.png" alt="image-20220112202901042" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202925019.png" alt="image-20220112202925019" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202935282.png" alt="image-20220112202935282" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202943754.png" alt="image-20220112202943754" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112202953362.png" alt="image-20220112202953362" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203004794.png" alt="image-20220112203004794" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203020169.png" alt="image-20220112203020169" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203039498.png" alt="image-20220112203039498" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203048466.png" alt="image-20220112203048466" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112203109514.png" alt="image-20220112203109514" style="zoom:50%;"></p>
<h3 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h3><p>与计算机相连的设备在许多方面都呈现出不同。有的设备在一定时间内传输一个字符或一块字符。有的按顺序或随机访问。有的按同步或异步传输数据。有的专用或共享。有的只读或可读可写。它们速度差异很大。在许多方面它们总是计算机中最慢的部分。</p>
<p>由于这些差异，操作系统需要向应用程序提供各种功能，以便于控制设备的各个方面。操作系统I/O子系统的关键目标之一就是向系统的其他部分提供尽可能简单的接口。</p>
<p>I/O设备管理是操作系统设计中最凌乱也最具挑战性的部分。由于它包含了很多领域的不同设备以及与设备相关的应用程序，因此很难有一个通用且一致的设计方案。</p>
<h4 id="块设备，字符设备"><a href="#块设备，字符设备" class="headerlink" title="块设备，字符设备"></a>块设备，字符设备</h4><p>块设备：由于信息的存取总是以数据块为单位，所以<strong>存储信息的设备</strong>称为块设备。它属于有结构设备，如磁盘等。磁盘设备的基本特征是传输速率较高，以及可寻址，即对它可随机地读/写任一块。</p>
<p>字符设备：<strong>用于数据输入/输出的设备</strong>为字符设备，因为其传输的基本单位是字符。它属于无结构类型，如交互式终端机、打印机等。它们的基本特征是传输速率低、不可寻址，并且在输入/输出时常釆用中断驱动方式。</p>
<h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><p><strong>总线</strong> (daisy chain or shared direct access)：是一组线和一组严格定义的可以描述在线上传输信息的协议</p>
<p><strong>端口</strong>：设备通过系统总线上的接口与CPU相连，接口电路中含有多种寄存器，CPU向设备读写数据实际上是向接口上的寄存器读写数据，这些寄存器称为I/O端口</p>
<p>端口的编址方式有两种：统一编址和独立编址</p>
<p>统一编址：外设端口地址占用内存空间，也被称为内存映射方式。</p>
<p>独立编址：外设端口地址不占用内存空间，有自己的I/O地址空间。CPU通过专门的指令来访问I/O地址空间。</p>
<p><strong>控制器</strong> (host adapter)</p>
<p>用于操作端口、总线或设备的一组电子器件（如：硬盘 ，移动硬盘）</p>
<h4 id="一个典型的PC总线结构"><a href="#一个典型的PC总线结构" class="headerlink" title="一个典型的PC总线结构"></a>一个典型的PC总线结构</h4><p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112204131152.png" alt="image-20220112204131152" style="zoom: 67%;"></p>
<p><strong>直接IO和内存映射IO</strong></p>
<p>直接I/O指令</p>
<p>内存映射I/O：</p>
<p>设备控制寄存器映射到处理器的地址空间，因此，处理器能够象访问普通内存一样访问设备控制寄存器</p>
<p>优点 简单 快捷 </p>
<p>缺点 寄存器易被篡改</p>
<h4 id="与I-O寄存器通讯"><a href="#与I-O寄存器通讯" class="headerlink" title="与I\O寄存器通讯"></a>与I\O寄存器通讯</h4><p>三种方式：轮询、中断和DMA</p>
<p><strong>轮询</strong>：</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205300574.png" alt="image-20220112205300574" style="zoom:67%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205320019.png" alt="image-20220112205320019" style="zoom:67%;"></p>
<p><strong>中断：</strong></p>
<p><strong>两种中断请求</strong>（ cup一般设置两根中断请求输入线来完成该功能）</p>
<p><strong>非屏蔽中断</strong>：不可拒绝的，主要用来处理如不可恢复内存错误等事件</p>
<p><strong>可屏蔽中断</strong>：cpu可以响应，也可以不响应中断（例如：打印机）</p>
<p><strong>中断优先级</strong>：</p>
<p>能够使CPU延迟处理低优先级中断而不屏蔽所有中断，这也可以让高优先级中断抢占低优先级中断处理。</p>
<p>中断的<strong>用途</strong></p>
<blockquote>
<p>中断机制用于处理各种异常，如被零除，访问一个受保护的或不存在的内存地址</p>
<p>系统调用的实现需要用到中断（软中断）</p>
<p>中断也可以用来管理内核的控制流</p>
</blockquote>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205515168.png" alt="image-20220112205515168" style="zoom:67%;"></p>
<p><strong>直接内存访问（DMA）</strong></p>
<p>对于需要做大量传输的设备，如果用处理器来观察状态位并按字节送入数据显得很麻烦。于是交给直接内存访问控制器来做。</p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112205617035.png" alt="image-20220112205617035" style="zoom:67%;"></p>
<h4 id="阻塞非阻塞，同步和异步"><a href="#阻塞非阻塞，同步和异步" class="headerlink" title="阻塞非阻塞，同步和异步"></a>阻塞非阻塞，同步和异步</h4><p>阻塞 － 进程悬挂直到I/O完成为止</p>
<blockquote>
<p>容易使用与理解</p>
<p>对某些需求难以满足</p>
</blockquote>
<p>非阻塞 － I/O调用立刻返回</p>
<blockquote>
<p>用户接口，数据复制（缓冲I/O)</p>
<p>通过多线程实现</p>
<p>立刻返回读或写的字节数</p>
</blockquote>
<p>异步 － 进程与I/O同时运行</p>
<blockquote>
<p>难以使用</p>
<p>当I/O完成时，I/O系统发送信号通知进程</p>
</blockquote>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112210154375.png" alt="image-20220112210154375" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112210210082.png" alt="image-20220112210210082" style="zoom:50%;"></p>
<p><img src="/2022/01/10/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/image-20220112210225147.png" alt="image-20220112210225147" style="zoom: 67%;"></p>
<h4 id="缓冲和缓存的区别"><a href="#缓冲和缓存的区别" class="headerlink" title="缓冲和缓存的区别"></a>缓冲和缓存的区别</h4><p><strong>缓冲与高速缓存的差别</strong>是缓冲可能是数据项的唯一的副本，而根据定义高速缓存只是提供了一个驻留在其他地方的数据在高速存储上的一个副本。</p>
<p>缓冲区的目的主要有：（解决速度慢和快的交接问题，一般不需要支持随机读写）</p>
<p>1）缓和CPU与I/O设备间速度不匹配的矛盾。</p>
<p>2）减少对CPU的中断频率，放宽对CPU中断响应时间的限制。</p>
<p>3）解决基本数据单元大小（即数据粒度）不匹配的问题。</p>
<p>4）提高CPU和I/O设备之间的并行性。</p>
<p>实现方法有：</p>
<p>1）釆用硬件缓冲器，但由于成本太高，除一些关键部位外，一般不釆用硬件缓冲器</p>
<p>2）釆用缓冲区（位于内存区域）。</p>
<p>缓存目的：操作系统中使用磁盘高速缓存技术来<strong>提高磁盘的I/O速度</strong>，对高速缓存复制的访问要比原始数据访问更为高效。例如，正在运行的进程的指令既存储在磁盘上，也存储在物理内存上，也被复制到CPU的二级和一级高速缓存中。</p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/01/03/The%20Lockdown%20Effect/" rel="prev" title="The Lockdown Effect：疫情防控对互联网流量的影响notes">
      <i class="fa fa-chevron-left"></i> The Lockdown Effect：疫情防控对互联网流量的影响notes
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/01/13/JOP%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%94%A8%E6%94%BB%E5%87%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/" rel="next" title="JOP代码复用攻击的实现">
      JOP代码复用攻击的实现 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.</span> <span class="nav-text">什么是操作系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F%E3%80%81%E5%A4%9A%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F%E5%92%8C%E5%88%86%E6%97%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.</span> <span class="nav-text">单道批处理系统、多道批处理系统和分时系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E3%80%81%E5%B9%B6%E8%A1%8C"><span class="nav-number">1.3.</span> <span class="nav-text">并发、并行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A1%AC%E5%AE%9E%E6%97%B6%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BD%AF%E5%AE%9E%E6%97%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.4.</span> <span class="nav-text">硬实时系统和软实时系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E7%9A%84%E5%88%86%E7%B1%BB%E5%92%8C%E4%B8%BB%E8%A6%81%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.5.</span> <span class="nav-text">中断的分类和主要步骤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%8C%E9%87%8D%E6%A8%A1%E5%BC%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">1.6.</span> <span class="nav-text">双重模式操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8C%85%E6%8B%AC%E5%93%AA%E4%BA%9B%E5%AD%90%E7%B3%BB%E7%BB%9F%EF%BC%9F"><span class="nav-number">1.7.</span> <span class="nav-text">操作系统包括哪些子系统？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9C%8D%E5%8A%A1%EF%BC%9F"><span class="nav-number">1.8.</span> <span class="nav-text">用户如何使用操作系统的服务？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E9%80%9A%E8%AE%AF%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.9.</span> <span class="nav-text">两种通讯模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%9F"><span class="nav-number">1.10.</span> <span class="nav-text">什么是虚拟机？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B"><span class="nav-number">2.</span> <span class="nav-text">进程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="nav-number">2.1.</span> <span class="nav-text">进程的概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E5%92%8C%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%9B%BE"><span class="nav-number">2.2.</span> <span class="nav-text">进程的状态和状态转换图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E7%BB%86%E8%8A%82"><span class="nav-number">2.3.</span> <span class="nav-text">状态转换细节</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PCB"><span class="nav-number">2.4.</span> <span class="nav-text">PCB</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E9%95%9C%E5%83%8F"><span class="nav-number">2.5.</span> <span class="nav-text">进程在内存中的镜像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%95%BF%E7%A8%8B%E8%B0%83%E5%BA%A6%E3%80%81%E7%9F%AD%E7%A8%8B%E8%B0%83%E5%BA%A6%E3%80%81%E4%B8%AD%E7%A8%8B%E8%B0%83%E5%BA%A6"><span class="nav-number">2.6.</span> <span class="nav-text">长程调度、短程调度、中程调度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E6%A0%91"><span class="nav-number">2.7.</span> <span class="nav-text">进程树</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fork%E5%87%BD%E6%95%B0"><span class="nav-number">2.8.</span> <span class="nav-text">fork函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E4%B8%AD%E6%AD%A2"><span class="nav-number">2.9.</span> <span class="nav-text">进程中止</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#java%E9%80%9A%E8%AE%AF"><span class="nav-number">2.10.</span> <span class="nav-text">java通讯</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B"><span class="nav-number">3.</span> <span class="nav-text">线程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%BA%BF%E7%A8%8B%EF%BC%9F"><span class="nav-number">3.1.</span> <span class="nav-text">为什么我们需要线程？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%81%94%E7%B3%BB"><span class="nav-number">3.2.</span> <span class="nav-text">线程和进程的联系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCB"><span class="nav-number">3.3.</span> <span class="nav-text">TCB</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4"><span class="nav-number">3.4.</span> <span class="nav-text">多线程地址空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%BA%A7%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%86%85%E6%A0%B8%E7%BA%A7%E7%BA%BF%E7%A8%8B"><span class="nav-number">3.5.</span> <span class="nav-text">用户级线程和内核级线程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%9B%BE"><span class="nav-number">3.6.</span> <span class="nav-text">线程的状态转换图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CPU%E8%B0%83%E5%BA%A6"><span class="nav-number">4.</span> <span class="nav-text">CPU调度</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%A2%E5%8D%A0%E7%9A%84%E5%92%8C%E9%9D%9E%E6%8A%A2%E5%8D%A0%E7%9A%84%E8%B0%83%E5%BA%A6%E6%96%B9%E6%A1%88"><span class="nav-number">4.1.</span> <span class="nav-text">抢占的和非抢占的调度方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E5%BA%A6%E5%87%86%E5%88%99"><span class="nav-number">4.2.</span> <span class="nav-text">调度准则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-number">4.3.</span> <span class="nav-text">调度算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%A4%84%E7%90%86%E5%99%A8%E8%B0%83%E5%BA%A6"><span class="nav-number">4.4.</span> <span class="nav-text">多处理器调度</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5"><span class="nav-number">5.</span> <span class="nav-text">同步</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%90%8C%E6%AD%A5"><span class="nav-number">5.1.</span> <span class="nav-text">为什么需要同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%A3%E7%A0%81%E6%A1%86%E6%9E%B6"><span class="nav-number">5.2.</span> <span class="nav-text">同步问题的基本代码框架</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%92%E6%96%A5%EF%BC%8C%E6%9C%89%E7%A9%BA%E8%AE%A9%E8%BF%9B%EF%BC%8C%E6%9C%89%E9%99%90%E7%AD%89%E5%BE%85"><span class="nav-number">5.3.</span> <span class="nav-text">互斥，有空让进，有限等待</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Peterson%E7%AE%97%E6%B3%95"><span class="nav-number">5.4.</span> <span class="nav-text">Peterson算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%A2%E5%8C%85%E5%B8%88%E7%AE%97%E6%B3%95"><span class="nav-number">5.5.</span> <span class="nav-text">面包师算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A1%AC%E4%BB%B6%E5%90%8C%E6%AD%A5"><span class="nav-number">5.6.</span> <span class="nav-text">硬件同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%92%8CPV%E6%93%8D%E4%BD%9C"><span class="nav-number">5.7.</span> <span class="nav-text">信号量和PV操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-number">5.8.</span> <span class="nav-text">生产者消费者问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E8%80%85-%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-number">5.9.</span> <span class="nav-text">读者-写者问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98"><span class="nav-number">5.10.</span> <span class="nav-text">哲学家进餐问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%87%E7%8B%AC%E6%9C%A8%E6%A1%A5%E9%97%AE%E9%A2%98"><span class="nav-number">5.11.</span> <span class="nav-text">过独木桥问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%90%86%E5%8F%91%E5%BA%97%E9%97%AE%E9%A2%98"><span class="nav-number">5.12.</span> <span class="nav-text">理发店问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E5%92%8C%E5%B0%9A%E6%8E%A5%E6%B0%B4%E8%80%81%E5%92%8C%E5%B0%9A%E5%96%9D%E6%B0%B4%E9%97%AE%E9%A2%98"><span class="nav-number">5.13.</span> <span class="nav-text">小和尚接水老和尚喝水问题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81"><span class="nav-number">6.</span> <span class="nav-text">死锁</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E5%9B%9B%E4%B8%AA%E5%BF%85%E8%A6%81%E6%9D%A1%E4%BB%B6"><span class="nav-number">6.1.</span> <span class="nav-text">死锁的四个必要条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%89%E7%8E%AF%E4%B8%8D%E4%B8%80%E5%AE%9A%E6%AD%BB%E9%94%81"><span class="nav-number">6.2.</span> <span class="nav-text">有环不一定死锁</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%8E%E4%B9%88%E6%9D%A5%E8%A7%A3%E5%86%B3%E6%AD%BB%E9%94%81%E9%97%AE%E9%A2%98"><span class="nav-number">6.3.</span> <span class="nav-text">怎么来解决死锁问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E5%BA%8F%E5%88%97%E5%92%8C%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81"><span class="nav-number">6.4.</span> <span class="nav-text">安全序列和安全状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="nav-number">6.5.</span> <span class="nav-text">银行家算法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-number">7.</span> <span class="nav-text">内存管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E5%92%8C%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80"><span class="nav-number">7.1.</span> <span class="nav-text">逻辑地址和物理地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%A3%85%E5%85%A5%E5%92%8C%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5"><span class="nav-number">7.2.</span> <span class="nav-text">动态装入和动态链接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9E%E7%BB%AD%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="nav-number">7.3.</span> <span class="nav-text">连续内存分配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A2%8E%E7%89%87%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E6%8E%AA%E6%96%BD"><span class="nav-number">7.4.</span> <span class="nav-text">碎片问题和解决措施</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%AE%A1%E7%90%86%E6%80%9D%E6%83%B3"><span class="nav-number">7.5.</span> <span class="nav-text">分页的基本管理思想</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TLB"><span class="nav-number">7.6.</span> <span class="nav-text">TLB</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E7%BA%A7%E9%A1%B5%E8%A1%A8%E3%80%81%E5%93%88%E5%B8%8C%E9%A1%B5%E8%A1%A8%E3%80%81%E5%8F%8D%E8%BD%AC%E9%A1%B5%E8%A1%A8"><span class="nav-number">7.7.</span> <span class="nav-text">分级页表、哈希页表、反转页表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%AE%B5"><span class="nav-number">7.8.</span> <span class="nav-text">分段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E9%A2%98"><span class="nav-number">7.9.</span> <span class="nav-text">计算题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98"><span class="nav-number">8.</span> <span class="nav-text">虚拟内存</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98"><span class="nav-number">8.1.</span> <span class="nav-text">为什么需要虚拟内存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%BC%8F%E5%88%86%E9%A1%B5%EF%BC%88%E6%8C%89%E9%9C%80%E8%B0%83%E9%A1%B5%EF%BC%89"><span class="nav-number">8.2.</span> <span class="nav-text">请求式分页（按需调页）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%BA%E9%A1%B5%E4%B8%AD%E6%96%AD"><span class="nav-number">8.3.</span> <span class="nav-text">缺页中断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2"><span class="nav-number">8.4.</span> <span class="nav-text">页面置换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="nav-number">8.5.</span> <span class="nav-text">页面置换算法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%8E%A5%E5%8F%A3"><span class="nav-number">9.</span> <span class="nav-text">文件系统接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%A6%82%E5%BF%B5"><span class="nav-number">9.1.</span> <span class="nav-text">文件概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="nav-number">9.2.</span> <span class="nav-text">文件类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="nav-number">9.3.</span> <span class="nav-text">文件结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95"><span class="nav-number">9.4.</span> <span class="nav-text">访问方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">9.5.</span> <span class="nav-text">目录结构</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0"><span class="nav-number">10.</span> <span class="nav-text">文件系统实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%86%E5%B1%82"><span class="nav-number">10.1.</span> <span class="nav-text">文件系统分层</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FCP%E6%8E%A7%E5%88%B6%E5%9D%97"><span class="nav-number">10.2.</span> <span class="nav-text">FCP控制块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#linux%E7%9A%84%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">10.3.</span> <span class="nav-text">linux的虚拟文件系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E5%AE%9E%E7%8E%B0"><span class="nav-number">10.4.</span> <span class="nav-text">目录实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E6%96%B9%E6%B3%95"><span class="nav-number">10.5.</span> <span class="nav-text">分配方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A9%BA%E9%97%B2%E7%A9%BA%E9%97%B4%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-number">10.6.</span> <span class="nav-text">空闲空间的管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-number">10.7.</span> <span class="nav-text">题目</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%A7%E5%AE%B9%E9%87%8F%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E7%BB%93%E6%9E%84"><span class="nav-number">11.</span> <span class="nav-text">大容量存储器的结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E7%BB%93%E6%9E%84%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">11.1.</span> <span class="nav-text">磁盘的结构的基本概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4%E5%92%8C%E5%93%AA%E5%87%A0%E4%B8%AA%E5%9B%A0%E7%B4%A0%E6%9C%89%E5%85%B3"><span class="nav-number">11.2.</span> <span class="nav-text">磁盘的访问时间和哪几个因素有关</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6"><span class="nav-number">11.3.</span> <span class="nav-text">磁盘调度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RAID"><span class="nav-number">11.4.</span> <span class="nav-text">RAID</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#I-O"><span class="nav-number">12.</span> <span class="nav-text">I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9D%97%E8%AE%BE%E5%A4%87%EF%BC%8C%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87"><span class="nav-number">12.1.</span> <span class="nav-text">块设备，字符设备</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">12.2.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E4%B8%AA%E5%85%B8%E5%9E%8B%E7%9A%84PC%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="nav-number">12.3.</span> <span class="nav-text">一个典型的PC总线结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8EI-O%E5%AF%84%E5%AD%98%E5%99%A8%E9%80%9A%E8%AE%AF"><span class="nav-number">12.4.</span> <span class="nav-text">与I\O寄存器通讯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E%E9%9D%9E%E9%98%BB%E5%A1%9E%EF%BC%8C%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="nav-number">12.5.</span> <span class="nav-text">阻塞非阻塞，同步和异步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E5%92%8C%E7%BC%93%E5%AD%98%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">12.6.</span> <span class="nav-text">缓冲和缓存的区别</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Rosc. 1807"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Rosc. 1807</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
      
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rosc. 1807</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script color='255,51,51' opacity='0.5' zIndex='-1' count='160' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
<!-- 引入jQuery -->
<script type="text/javascript" src="//libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/snow2.js"></script>